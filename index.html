
<body>
  <p>
	#include <bits/stdc++.h>
	using namespace std;

	#define         ll          long long int
	#define         pb          push_back
	#define         pii         pair<int, int>
	#define         PII         pair<ll, ll>
	#define         ff          first
	#define         ss          second
	#define         mk          make_pair
	#define         IO          ios_base::sync_with_stdio(false);cin.tie(NULL);cout.tie(NULL);

	int dx[] = { 0, 0, +1, -1 };
	int dy[] = { +1, -1, 0, 0 };

	int grid[55][55];
	vector<pii> bor1;
	vector<pii> bor2;
	int n;

	int isBorder(int r, int c)
	{
		if (r + 1 <= n)
			if (grid[r+1][c] == 1)  return 1;
		if (r - 1 >= 1)
			if (grid[r-1][c] == 1)  return 1;
		if (c + 1 <= n)
			if (grid[r][c+1] == 1)  return 1;
		if (c - 1 >= 1)
			if (grid[r][c-1] == 1)  return 1;

		return 0;
	}

	vector<pii> bfs(int r, int c)
	{
		pii u, v;
		int i;
		int tx, ty;
		vector<pii> p;

		queue<pii> q;

		q.push(mk(r, c));
		grid[r][c] = -1;

		while ( !q.empty( ) )
		{
			u = q.front( );
			q.pop( );

			if (isBorder(u.ff, u.ss) == 1)
			{
				p.pb(u);
			}

			for (i = 0; i < 4; i++)
			{
				tx = u.ff + dx[i];
				ty = u.ss + dy[i];
				if (tx >= 1 && tx <= n && ty >= 1 && ty <= n)
				{
					if (grid[tx][ty] == 0)
					{
						grid[tx][ty] = -1;
						q.push(mk(tx, ty));
					}
				}
			}
		}

		return p;
	}

	int main( )
	{
		cin >> n;
		pii u, v;

		cin >> u.ff >> u.ss;
		cin >> v.ff >> v.ss;

		int i, j;

		for (i = 1; i <= n; i++)
		{
			for (j = 1; j <= n; j++)
			{
				scanf("%1d", &grid[i][j]);
			}
		}

		bor1 = bfs(u.ff, u.ss);

		if (grid[v.ff][v.ss] == -1)
		{
			cout << "0\n";
			return 0;
		}

		bor2 = bfs(v.ff, v.ss);

		ll cost, mn = 1e15;
		ll dx, dy;

		for (i = 0; i < bor1.size( ); i++)
		{
			for (j = 0; j < bor2.size( ); j++)
			{
				if (grid[bor1[i].ff][bor1[i].ss] == -1 &&
					grid[bor2[j].ff][bor2[j].ss] == -1)
				{
					dx = bor1[i].ff - bor2[j].ff;
					dy = bor1[i].ss - bor2[j].ss;

					dx = dx * dx;
					dy = dy * dy;

					cost = dx + dy;
					mn = min(cost, mn);
				}
			}
		}

		cout << mn << "\n";

		return 0;
	}

  </p>
  
</body>
